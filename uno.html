<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>UNO Cinarland Edition</title>
<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:radial-gradient(circle at center,#1e293b,#0f172a);
color:white;
text-align:center;
overflow:hidden;
}
#startScreen,#endScreen{
position:fixed;
inset:0;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
background:#0f172a;
z-index:10;
}
#game{
display:none;
height:100vh;
position:relative;
}
input{
padding:12px;
border-radius:10px;
border:none;
font-size:16px;
}
button{
padding:12px 25px;
border-radius:10px;
border:none;
cursor:pointer;
font-weight:bold;
margin-top:15px;
}
.unoLogo{
width:300px;
transform:rotate(-15deg);
filter:drop-shadow(0 15px 25px rgba(0,0,0,.6));
}
#pile{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
}
.card{
width:90px;
height:140px;
border-radius:20px;
display:flex;
align-items:center;
justify-content:center;
font-size:36px;
font-weight:bold;
box-shadow:0 15px 25px rgba(0,0,0,.5);
cursor:pointer;
transition:transform .3s;
}
.card:hover{
transform:translateY(-20px) scale(1.1);
}
.red{background:#e63946;}
.green{background:#2a9d8f;}
.blue{background:#457b9d;}
.yellow{background:#f4a261;color:black;}
#playerHand{
position:absolute;
bottom:20px;
width:100%;
display:flex;
justify-content:center;
gap:10px;
flex-wrap:nowrap;
}
#computerInfo{
position:absolute;
top:20px;
width:100%;
}
.win{
font-size:50px;
animation:pop 1s ease infinite alternate;
}
@keyframes pop{
from{transform:scale(1);}
to{transform:scale(1.1);}
}
.confetti{
position:absolute;
width:10px;
height:10px;
animation:fall linear forwards;
}
@keyframes fall{
0%{transform:translateY(-10px) rotate(0);}
100%{transform:translateY(100vh) rotate(720deg);}
}
</style>
</head>
<body>

<div id="startScreen">
<svg class="unoLogo" viewBox="0 0 400 200">
<ellipse cx="200" cy="100" rx="180" ry="80" fill="#d00000"/>
<text x="200" y="125" font-size="100" text-anchor="middle" fill="white" font-weight="bold" transform="rotate(-10 200 100)">UNO</text>
</svg>
<h2>Cinarland Edition</h2>
<input id="username" placeholder="Kullanƒ±cƒ± Adƒ±n">
<button onclick="startGame()">Ba≈üla</button>
</div>

<div id="game">
<div id="computerInfo"></div>
<div id="pile"></div>
<div id="playerHand"></div>
</div>

<div id="endScreen" style="display:none;">
<div id="endTitle" class="win"></div>
<button onclick="restart()">Yeniden Ba≈ülat</button>
</div>

<script>
const colors=["red","green","blue","yellow"];
let deck=[],player=[],computer=[],current=null,turn=true,name="";

function createDeck(){
deck=[];
colors.forEach(c=>{
for(let i=0;i<=9;i++)deck.push({color:c,value:i});
});
deck.sort(()=>Math.random()-0.5);
}

function deal(){
player=[];computer=[];
for(let i=0;i<7;i++){
player.push(deck.pop());
computer.push(deck.pop());
}
}

function startGame(){
name=document.getElementById("username").value.trim();
if(!name)return;
document.getElementById("startScreen").style.display="none";
document.getElementById("game").style.display="block";
createDeck();
deal();
current=deck.pop();
render();
}

function render(){
document.getElementById("pile").innerHTML=
`<div class="card ${current.color}">${current.value}</div>`;
document.getElementById("computerInfo").innerText=
"Bilgisayar Kart: "+computer.length;

let hand=document.getElementById("playerHand");
hand.innerHTML="";
player.forEach((card,i)=>{
let div=document.createElement("div");
div.className="card "+card.color;
div.innerText=card.value;
div.onclick=()=>play(i);
hand.appendChild(div);
});
}

function valid(card){
return card.color===current.color||
card.value===current.value;
}

function play(i){
if(!turn)return;
let card=player[i];
if(!valid(card))return;
player.splice(i,1);
current=card;
turn=false;
render();
check();
setTimeout(bot,800);
}

function bot(){
for(let i=0;i<computer.length;i++){
if(valid(computer[i])){
current=computer.splice(i,1)[0];
turn=true;
render();
check();
return;
}
}
computer.push(deck.pop());
turn=true;
render();
}

function check(){
if(player.length===0)showEnd(true);
if(computer.length===0)showEnd(false);
}

function showEnd(win){
document.getElementById("game").style.display="none";
document.getElementById("endScreen").style.display="flex";
document.getElementById("endTitle").innerText=
win?name+" KAZANDI! üéâ":"Bilgisayar Kazandƒ± üò¢";
if(win)confetti();
}

function confetti(){
for(let i=0;i<120;i++){
let c=document.createElement("div");
c.className="confetti";
c.style.left=Math.random()*100+"vw";
c.style.background=`hsl(${Math.random()*360},100%,50%)`;
c.style.animationDuration=(2+Math.random()*2)+"s";
document.body.appendChild(c);
setTimeout(()=>c.remove(),4000);
}
}

function restart(){
location.reload();
}
</script>

</body>
</html>
