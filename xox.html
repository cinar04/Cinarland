<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cosmic XOX Tournament</title>
<style>
body{
margin:0;
height:100vh;
display:flex;
justify-content:center;
align-items:center;
font-family:Arial;
background:black;
color:white;
overflow:hidden;
}
canvas{
position:fixed;
top:0;
left:0;
z-index:-1;
}
.container{
text-align:center;
backdrop-filter:blur(15px);
background:rgba(255,255,255,0.05);
padding:25px;
border-radius:20px;
box-shadow:0 0 30px cyan;
}
.board{
display:grid;
grid-template-columns:repeat(3,100px);
grid-template-rows:repeat(3,100px);
gap:10px;
margin:15px 0;
}
.cell{
background:rgba(255,255,255,0.05);
display:flex;
justify-content:center;
align-items:center;
font-size:50px;
cursor:pointer;
border-radius:12px;
transition:0.3s;
}
.cell:hover{
transform:scale(1.1);
box-shadow:0 0 20px cyan;
}
.x{color:#00f7ff;text-shadow:0 0 20px #00f7ff;}
.o{color:#ff00c8;text-shadow:0 0 20px #ff00c8;}
button,input{
padding:8px;
border-radius:8px;
border:none;
margin:5px;
}
.hidden{display:none;}
.winScreen{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:linear-gradient(45deg,#000,#001f2f,#000);
display:flex;
justify-content:center;
align-items:center;
flex-direction:column;
font-size:40px;
animation:fadeIn 1s;
}
.loseScreen{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:#100000;
display:flex;
justify-content:center;
align-items:center;
flex-direction:column;
font-size:35px;
color:red;
animation:fadeIn 1s;
}
@keyframes fadeIn{
from{opacity:0;}
to{opacity:1;}
}
.scoreBoard{
font-size:18px;
margin-bottom:10px;
}
</style>
</head>
<body>

<canvas id="stars"></canvas>

<div class="container" id="setup">
<h2>TakÄ±m Ä°simleri</h2>
<input id="name1" placeholder="TakÄ±m 1">
<input id="name2" placeholder="TakÄ±m 2">
<br>
<button onclick="startGame()">BaÅŸla</button>
</div>

<div class="container hidden" id="game">
<h2 id="turnText"></h2>
<div class="scoreBoard" id="scoreText"></div>
<div class="board"></div>
<button onclick="resetRound()">Yeni Tur</button>
</div>

<div id="winScreen" class="hidden"></div>
<div id="loseScreen" class="hidden"></div>

<script>
let board=document.querySelector(".board");
let turnText=document.getElementById("turnText");
let scoreText=document.getElementById("scoreText");
let setup=document.getElementById("setup");
let game=document.getElementById("game");
let winScreen=document.getElementById("winScreen");
let loseScreen=document.getElementById("loseScreen");

let player1,player2;
let scores={X:0,O:0};
let current="X";
let state=["","","","","","","","",""];
let active=true;
let moveCount=0;

const wins=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];

function startGame(){
player1=document.getElementById("name1").value||"TakÄ±m 1";
player2=document.getElementById("name2").value||"TakÄ±m 2";
setup.classList.add("hidden");
game.classList.remove("hidden");
createBoard();
updateUI();
}

function createBoard(){
board.innerHTML="";
for(let i=0;i<9;i++){
let cell=document.createElement("div");
cell.classList.add("cell");
cell.dataset.i=i;
cell.onclick=handleMove;
board.appendChild(cell);
}
}

function handleMove(e){
let i=e.target.dataset.i;
if(state[i]||!active)return;
state[i]=current;
e.target.textContent=current;
e.target.classList.add(current.toLowerCase());
moveCount++;
if(checkWin())return;
current=current==="X"?"O":"X";
updateUI();
}

function updateUI(){
turnText.textContent="SÄ±ra: "+(current==="X"?player1:player2);
scoreText.textContent=player1+" ("+scores.X+") - "+player2+" ("+scores.O+")";
}

function checkWin(){
for(let w of wins){
let[a,b,c]=w;
if(state[a]&&state[a]===state[b]&&state[a]===state[c]){
scores[current]++;
if(scores[current]===3){
endTournament(current);
}else{
setTimeout(resetRound,1000);
}
return true;
}
}
if(moveCount===9){
setTimeout(resetRound,1000);
return true;
}
return false;
}

function resetRound(){
state=["","","","","","","","",""];
moveCount=0;
current="X";
active=true;
createBoard();
updateUI();
}

function endTournament(winner){
active=false;
let winnerName=winner==="X"?player1:player2;
let loserName=winner==="X"?player2:player1;

winScreen.classList.remove("hidden");
winScreen.className="winScreen";
winScreen.innerHTML=winnerName+" ÅžAMPÄ°YON! ðŸš€<br><button onclick='showLose(\""+loserName+"\")'>Devam</button>";
}

function showLose(loser){
winScreen.classList.add("hidden");
loseScreen.classList.remove("hidden");
loseScreen.className="loseScreen";
loseScreen.innerHTML=loser+" Kaybetti... ðŸ’€<br><button onclick='location.reload()'>Yeniden BaÅŸla</button>";
}

const canvas=document.getElementById("stars");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;
let mouse={x:canvas.width/2,y:canvas.height/2};
window.addEventListener("mousemove",e=>{
mouse.x=e.clientX;
mouse.y=e.clientY;
});
let stars=[];
for(let i=0;i<120;i++){
stars.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*2});
}
function draw(){
ctx.clearRect(0,0,canvas.width,canvas.height);
ctx.fillStyle="white";
for(let s of stars){
let dx=mouse.x-s.x;
let dy=mouse.y-s.y;
s.x+=dx*0.002;
s.y+=dy*0.002;
ctx.beginPath();
ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
ctx.fill();
}
requestAnimationFrame(draw);
}
draw();
</script>
</body>
</html>
