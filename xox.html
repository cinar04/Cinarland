<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cosmic XOX</title>

<style>
body{
margin:0;
font-family:Arial;
text-align:center;
transition:0.4s;
}

/* Container */
.container{
margin-top:80px;
display:inline-block;
padding:25px;
border-radius:15px;
background:rgba(0,0,0,0.6);
box-shadow:0 0 20px cyan;
color:white;
}

/* Input */
input{
padding:8px;
margin:5px;
border-radius:6px;
border:none;
}

/* Board */
.board{
display:grid;
grid-template-columns:repeat(3,80px);
gap:6px;
margin-top:15px;
justify-content:center;
}

.cell{
width:80px;
height:80px;
background:#222;
display:flex;
align-items:center;
justify-content:center;
font-size:35px;
cursor:pointer;
border-radius:8px;
}

.x{color:#00f7ff;}
.o{color:#ff00c8;}

button{
padding:6px 10px;
border:none;
border-radius:6px;
cursor:pointer;
margin-top:8px;
}

.hidden{display:none;}

/* Theme Button */
#themeBtn{
position:fixed;
top:15px;
right:15px;
z-index:10;
}

/* Theme Panel */
#themePanel{
position:fixed;
top:50px;
right:15px;
background:#111;
padding:10px;
border-radius:10px;
display:flex;
flex-direction:column;
gap:5px;
}

/* THEMES */
body.neon{
background:linear-gradient(45deg,#000,#001f2f);
color:#00f7ff;
}

body.cyber{
background:linear-gradient(45deg,#0f0c29,#302b63,#24243e);
color:#ff00ff;
}

body.fire{
background:linear-gradient(45deg,#200000,#660000,#ff0000);
color:#ffcc00;
}

body.ice{
background:linear-gradient(45deg,#001f2f,#003f5f,#00c6ff);
color:#ffffff;
}

body.matrix{
background:black;
color:#00ff00;
}

/* Win Screen */
#winScreen{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:black;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
font-size:28px;
color:white;
}
</style>
</head>

<body>

<button id="themeBtn">‚öôÔ∏è</button>

<div id="themePanel" class="hidden">
<button onclick="setTheme('neon')">Neon</button>
<button onclick="setTheme('cyber')">Cyber</button>
<button onclick="setTheme('fire')">Fire</button>
<button onclick="setTheme('ice')">Ice</button>
<button onclick="setTheme('matrix')">Matrix</button>
</div>

<div class="container" id="setup">
<h2>Takƒ±m ƒ∞simleri</h2>
<input id="name1" placeholder="Takƒ±m 1"><br>
<input id="name2" placeholder="Takƒ±m 2"><br>
<button onclick="startGame()">Ba≈üla</button>
</div>

<div class="container hidden" id="game">
<h3 id="turnText"></h3>
<h4 id="scoreText"></h4>
<div class="board" id="board"></div>
</div>

<div id="winScreen" class="hidden"></div>

<script>
let themeBtn=document.getElementById("themeBtn");
let themePanel=document.getElementById("themePanel");

themeBtn.onclick=()=>{
themePanel.classList.toggle("hidden");
};

function setTheme(theme){
document.body.classList.remove("neon","cyber","fire","ice","matrix");
document.body.classList.add(theme);
localStorage.setItem("theme",theme);
themePanel.classList.add("hidden");
}

window.onload=()=>{
let saved=localStorage.getItem("theme");
if(saved){
document.body.classList.add(saved);
}else{
document.body.classList.add("neon");
}
};

let board=document.getElementById("board");
let setup=document.getElementById("setup");
let game=document.getElementById("game");
let turnText=document.getElementById("turnText");
let scoreText=document.getElementById("scoreText");
let winScreen=document.getElementById("winScreen");

let player1,player2;
let current="X";
let state=["","","","","","","","",""];
let scores={X:0,O:0};
let active=true;

const wins=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];

function startGame(){
player1=document.getElementById("name1").value||"Takƒ±m 1";
player2=document.getElementById("name2").value||"Takƒ±m 2";
setup.classList.add("hidden");
game.classList.remove("hidden");
createBoard();
updateUI();
}

function createBoard(){
board.innerHTML="";
for(let i=0;i<9;i++){
let cell=document.createElement("div");
cell.className="cell";
cell.dataset.i=i;
cell.onclick=move;
board.appendChild(cell);
}
}

function move(e){
let i=e.target.dataset.i;
if(state[i]||!active) return;

state[i]=current;
e.target.textContent=current;
e.target.classList.add(current.toLowerCase());

if(checkWin()) return;

current=current==="X"?"O":"X";
updateUI();
}

function updateUI(){
turnText.textContent="Sƒ±ra: "+(current==="X"?player1:player2);
scoreText.textContent=player1+" "+scores.X+" - "+scores.O+" "+player2;
}

function checkWin(){
for(let w of wins){
let[a,b,c]=w;
if(state[a]&&state[a]===state[b]&&state[a]===state[c]){
scores[current]++;
if(scores[current]===3){
endGame(current);
}else{
reset();
}
return true;
}
}
return false;
}

function reset(){
state=["","","","","","","","",""];
current="X";
createBoard();
updateUI();
}

function endGame(winner){
active=false;
let winnerName=winner==="X"?player1:player2;
winScreen.classList.remove("hidden");
winScreen.innerHTML=
"<h1>"+winnerName+" ≈ûAMPƒ∞YON üöÄ</h1><button onclick='location.reload()'>Yeniden Ba≈üla</button>";
}
</script>

</body>
</html>
